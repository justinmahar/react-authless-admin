---
name: Demo
route: /demo
# menu: MenuName
---

import { Playground } from 'docz';
import { Demo } from '../__docz__/components/Demo';
import { AdminOnly } from '../components/AdminOnly';
import { NonAdminOnly } from '../components/NonAdminOnly';
import { NetlifyCMSButton } from '../components/NetlifyCMSButton';

# Demo

The example below shows using a simple passcode, `sushi`, to switch admin on. This reveals [NetlifyCMSButtons](/NetlifyCMSButton) at the end of an example blog post. These link to an admin page that requires authentication.

This passcode doesn't need to be that secure, or kept a secret for that matter, since we're only hiding direct links that are useless to the general public (since they require a login elsewhere).

However, those direct links are rather convenient for admins, especially if you'd have to do some searching otherwise. And since this uses local storage, the admin state persists between browser sessions as well. üôå

<div style={{border: 'solid 2px #67788a', padding: '20px', marginTop: "40px" }}>
  <Demo/>
</div>

```jsx
import * as React from 'react';
import { useAdmin, AdminOnly, NonAdminOnly, NetlifyCMSButton } from 'react-authless-admin';

export function Demo() {
  const [isAdmin, setIsAdmin] = useAdmin();
  const [enteredPasscode, setEnteredPasscode] = React.useState('');
  const PASSCODE = 'sushi';
  const adminRootPath = '/react-authless-admin/admin';
  return (
    <div>
      <div>
        <h4>Lorem Ipsum</h4>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam ex est, interdum sed vulputate vel, vulputate vel
          diam. Etiam vel dolor arcu. Suspendisse consequat purus eget lectus vulputate tincidunt. Sed in lorem
          efficitur, aliquet ipsum a, lacinia libero. Aliquam tempor arcu in est fringilla mattis. In hac habitasse
          platea dictumst. Morbi mi mi, fringilla in luctus eu, vulputate quis erat. Nulla sodales ex urna, vel ornare
          quam bibendum ac. In eu ligula erat.
        </p>
        <AdminOnly>
          <div>
            <NetlifyCMSButton collection="posts" entry="lorem-ipsum" adminRootPath={adminRootPath}>
              ‚úèÔ∏è Edit Content
            </NetlifyCMSButton>
          </div>
        </AdminOnly>
      </div>
      <AdminOnly>
        <div style={{ border: 'solid 1px lightgray', padding: '10px', display: 'inline-block' }}>
          <NetlifyCMSButton collection="posts" adminRootPath={adminRootPath}>
            All Posts
          </NetlifyCMSButton>
          <NetlifyCMSButton collection="settings" entry="post-settings" adminRootPath={adminRootPath}>
            Post Settings
          </NetlifyCMSButton>
          <NetlifyCMSButton collection="settings" entry="discussion-settings" adminRootPath={adminRootPath}>
            Discussion Settings
          </NetlifyCMSButton>
          <button onClick={() => setIsAdmin(!isAdmin)}>Logout</button>
        </div>
      </AdminOnly>
      <NonAdminOnly>
        <div>
          <hr />
          <input
            type="text"
            placeholder="Enter the passcode"
            value={enteredPasscode}
            onChange={e => setEnteredPasscode(e.target.value)}
            onKeyDown={e => e.key === 'Enter' && setIsAdmin(enteredPasscode === PASSCODE)}
          />
          <button onClick={() => setIsAdmin(enteredPasscode === PASSCODE)}>Login</button>
          <div>
            <small>(The passcode is sushi)</small>
          </div>
        </div>
      </NonAdminOnly>
    </div>
  );
}
```