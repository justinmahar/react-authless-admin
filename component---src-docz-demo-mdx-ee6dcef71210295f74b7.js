(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MfgB:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return r})),n.d(t,"default",(function(){return c}));n("1c7q"),n("abGl"),n("gZHo"),n("Fdmb"),n("Ir+3"),n("2mQt");var i=n("/FXl"),o=n("TjRS"),s=n("6MC1");n("aD51");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var r={};void 0!==r&&r&&r===Object(r)&&Object.isExtensible(r)&&!r.hasOwnProperty("__filemeta")&&Object.defineProperty(r,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/__docz__/demo.mdx"}});var l={_frontmatter:r},d=o.a;function c(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["components"]);return Object(i.b)(d,a({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"demo"},"Demo"),Object(i.b)("p",null,"The example below shows using a simple passcode, ",Object(i.b)("inlineCode",{parentName:"p"},"sushi"),", to switch admin on. This reveals ",Object(i.b)("a",a({parentName:"p"},{href:"/react-authless-admin/NetlifyCMSButton"}),"NetlifyCMSButtons")," at the end of an example blog post. These link to an admin page that requires authentication."),Object(i.b)("p",null,"This passcode doesn't need to be that secure, or kept a secret for that matter, since we're only hiding direct links that are useless to the general public (since they require a login elsewhere)."),Object(i.b)("p",null,"However, those direct links are rather convenient for admins, especially if you'd have to do some searching otherwise. And since this uses local storage, the admin state persists between browser sessions as well. üôå"),Object(i.b)("div",{style:{border:"solid 2px #67788a",padding:"20px",marginTop:"40px"}},Object(i.b)(s.a,{mdxType:"Demo"})),Object(i.b)("pre",null,Object(i.b)("code",a({parentName:"pre"},{className:"language-jsx"}),"import * as React from 'react';\nimport { useAdmin, AdminOnly, NonAdminOnly, NetlifyCMSButton } from 'react-authless-admin';\n\nexport function Demo() {\n  const [isAdmin, setIsAdmin] = useAdmin();\n  const [enteredPasscode, setEnteredPasscode] = React.useState('');\n  const PASSCODE = 'sushi';\n  const adminRootPath = '/react-authless-admin/admin';\n  return (\n    <div>\n      <div>\n        <h4>Lorem Ipsum</h4>\n        <p>\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam ex est, interdum sed vulputate vel, vulputate vel\n          diam. Etiam vel dolor arcu. Suspendisse consequat purus eget lectus vulputate tincidunt. Sed in lorem\n          efficitur, aliquet ipsum a, lacinia libero. Aliquam tempor arcu in est fringilla mattis. In hac habitasse\n          platea dictumst. Morbi mi mi, fringilla in luctus eu, vulputate quis erat. Nulla sodales ex urna, vel ornare\n          quam bibendum ac. In eu ligula erat.\n        </p>\n        <AdminOnly>\n          <div>\n            <NetlifyCMSButton collection=\"posts\" entry=\"lorem-ipsum\" adminRootPath={adminRootPath}>\n              ‚úèÔ∏è Edit Content\n            </NetlifyCMSButton>\n          </div>\n        </AdminOnly>\n      </div>\n      <AdminOnly>\n        <div style={{ border: 'solid 1px lightgray', padding: '10px', display: 'inline-block' }}>\n          <NetlifyCMSButton collection=\"posts\" adminRootPath={adminRootPath}>\n            All Posts\n          </NetlifyCMSButton>\n          <NetlifyCMSButton collection=\"settings\" entry=\"post-settings\" adminRootPath={adminRootPath}>\n            Post Settings\n          </NetlifyCMSButton>\n          <NetlifyCMSButton collection=\"settings\" entry=\"discussion-settings\" adminRootPath={adminRootPath}>\n            Discussion Settings\n          </NetlifyCMSButton>\n          <button onClick={() => setIsAdmin(!isAdmin)}>Logout</button>\n        </div>\n      </AdminOnly>\n      <NonAdminOnly>\n        <div>\n          <hr />\n          <input\n            type=\"text\"\n            placeholder=\"Enter the passcode\"\n            value={enteredPasscode}\n            onChange={e => setEnteredPasscode(e.target.value)}\n            onKeyDown={e => e.key === 'Enter' && setIsAdmin(enteredPasscode === PASSCODE)}\n          />\n          <button onClick={() => setIsAdmin(enteredPasscode === PASSCODE)}>Login</button>\n          <div>\n            <small>(The passcode is sushi)</small>\n          </div>\n        </div>\n      </NonAdminOnly>\n    </div>\n  );\n}\n")))}c&&c===Object(c)&&Object.isExtensible(c)&&!c.hasOwnProperty("__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/__docz__/demo.mdx"}}),c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-docz-demo-mdx-ee6dcef71210295f74b7.js.map