{"version":3,"sources":["webpack:///../src/hooks/useAdmin.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-hooks-use-admin-mdx-2b9202cc9149bcf36301.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/react-authless-admin/react-authless-admin/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { UseAdminExample } from '../__docz__/components/UseAdminExample';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <h1>useAdmin</h1>\n    <h2 {...{\n      \"id\": \"description\"\n    }}>{`Description`}</h2>\n    <p>{`This hook can be used to enable or disable admin-only components on a static site that lacks user authentication.`}</p>\n    <p>{`Using this, components such as an edit content button (that takes you to an admin page elsewhere) can be hidden from all non-admin users.`}</p>\n    <p>{`This is accomplished via a `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\"\n      }}>{`local storage`}</a>{` value. This means switching admin on will persist between browser sessions unless the user clears their history.`}</p>\n    <h2 {...{\n      \"id\": \"usage\"\n    }}>{`Usage`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import { useAdmin } from 'react-authless-admin';\n`}</code></pre>\n    <p>{`In your function component: `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`const [isAdmin, setIsAdmin] = useAdmin();\n`}</code></pre>\n    <p>{`Then, to toggle the admin state:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`setIsAdmin(!isAdmin);\n`}</code></pre>\n    <p>{`This will set the value in local storage and synchronize all existing hooks.`}</p>\n    <h3 {...{\n      \"id\": \"using-a-passcode\"\n    }}>{`Using A Passcode`}</h3>\n    <p>{`One way to use this hook is to create a passcode for admins and call `}<inlineCode parentName=\"p\">{`setIsAdmin(true)`}</inlineCode>{` when entered on an admin login page.`}</p>\n    <p>{`See the `}<a parentName=\"p\" {...{\n        \"href\": \"/react-authless-admin/demo\"\n      }}>{`demo`}</a>{` for an example of this.`}</p>\n    <h3 {...{\n      \"id\": \"role-support\"\n    }}>{`Role Support`}</h3>\n    <p>{`You can pass the hook the key name to use in `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\"\n      }}>{`local storage`}</a>{`.`}</p>\n    <p>{`For example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`const [isEditor, setIsEditor] = useAdmin('editor');\nconst [isDesigner, setIsDesigner] = useAdmin('designer');\n`}</code></pre>\n    <p>{`This allows you to support multiple roles if needed. Those keys can then be provided to `}<a parentName=\"p\" {...{\n        \"href\": \"/react-authless-admin/AdminOnly\"\n      }}>{`AdminOnly`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"/react-authless-admin/NonAdminOnly\"\n      }}>{`NonAdminOnly`}</a>{` via the `}<inlineCode parentName=\"p\">{`localStorageKeyName`}</inlineCode>{` prop.`}</p>\n    <h2 {...{\n      \"id\": \"signature\"\n    }}>{`Signature`}</h2>\n    <p><inlineCode parentName=\"p\">{`useAdmin(localStorageKeyName?: string) => [boolean, (isAdmin: boolean) => void]`}</inlineCode></p>\n    <h3 {...{\n      \"id\": \"props\"\n    }}>{`Props`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Prop`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`localStorageKeyName`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Optional. The `}<a parentName=\"td\" {...{\n              \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\"\n            }}>{`local storage`}</a>{` key name for the admin boolean. Defaults to `}<inlineCode parentName=\"td\">{`react-authless-admin`}</inlineCode></td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"return\"\n    }}>{`Return`}</h3>\n    <p>{`The hook returns an array containing:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Index`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`0`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`isAdmin`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`boolean`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`true`}</inlineCode>{` if admin is enabled, `}<inlineCode parentName=\"td\">{`false`}</inlineCode>{` otherwise.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`1`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`setIsAdmin`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`(isAdmin: boolean) â‡’ void`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Setter that sets admin to enabled or disabled. Persists to local storage and synchronizes all hooks.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <p>{`See the `}<a parentName=\"p\" {...{\n        \"href\": \"/react-authless-admin/demo\"\n      }}>{`demo`}</a>{` for a full example.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}